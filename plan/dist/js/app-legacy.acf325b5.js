(function(){var e={46700:function(e,t,n){var s={"./af":72398,"./af.js":72398,"./ar":44207,"./ar-dz":33382,"./ar-dz.js":33382,"./ar-kw":96525,"./ar-kw.js":96525,"./ar-ly":17098,"./ar-ly.js":17098,"./ar-ma":56483,"./ar-ma.js":56483,"./ar-sa":73961,"./ar-sa.js":73961,"./ar-tn":27401,"./ar-tn.js":27401,"./ar.js":44207,"./az":70903,"./az.js":70903,"./be":41174,"./be.js":41174,"./bg":94615,"./bg.js":94615,"./bm":20225,"./bm.js":20225,"./bn":69751,"./bn-bd":30544,"./bn-bd.js":30544,"./bn.js":69751,"./bo":46894,"./bo.js":46894,"./br":38566,"./br.js":38566,"./bs":40959,"./bs.js":40959,"./ca":52683,"./ca.js":52683,"./cs":14231,"./cs.js":14231,"./cv":999,"./cv.js":999,"./cy":64302,"./cy.js":64302,"./da":63601,"./da.js":63601,"./de":95509,"./de-at":42479,"./de-at.js":42479,"./de-ch":72924,"./de-ch.js":72924,"./de.js":95509,"./dv":19838,"./dv.js":19838,"./el":55113,"./el.js":55113,"./en-au":27377,"./en-au.js":27377,"./en-ca":29626,"./en-ca.js":29626,"./en-gb":55912,"./en-gb.js":55912,"./en-ie":12931,"./en-ie.js":12931,"./en-il":52243,"./en-il.js":52243,"./en-in":9779,"./en-in.js":9779,"./en-nz":49813,"./en-nz.js":49813,"./en-sg":54318,"./en-sg.js":54318,"./eo":74957,"./eo.js":74957,"./es":99243,"./es-do":67409,"./es-do.js":67409,"./es-mx":75188,"./es-mx.js":75188,"./es-us":16927,"./es-us.js":16927,"./es.js":99243,"./et":87731,"./et.js":87731,"./eu":21072,"./eu.js":21072,"./fa":29462,"./fa.js":29462,"./fi":29838,"./fi.js":29838,"./fil":73626,"./fil.js":73626,"./fo":6421,"./fo.js":6421,"./fr":70974,"./fr-ca":77780,"./fr-ca.js":77780,"./fr-ch":59719,"./fr-ch.js":59719,"./fr.js":70974,"./fy":98373,"./fy.js":98373,"./ga":83861,"./ga.js":83861,"./gd":44896,"./gd.js":44896,"./gl":20739,"./gl.js":20739,"./gom-deva":86737,"./gom-deva.js":86737,"./gom-latn":31979,"./gom-latn.js":31979,"./gu":32001,"./gu.js":32001,"./he":99671,"./he.js":99671,"./hi":82038,"./hi.js":82038,"./hr":11228,"./hr.js":11228,"./hu":30087,"./hu.js":30087,"./hy-am":83569,"./hy-am.js":83569,"./id":91977,"./id.js":91977,"./is":86853,"./is.js":86853,"./it":82140,"./it-ch":25626,"./it-ch.js":25626,"./it.js":82140,"./ja":24123,"./ja.js":24123,"./jv":26457,"./jv.js":26457,"./ka":30638,"./ka.js":30638,"./kk":16823,"./kk.js":16823,"./km":9493,"./km.js":9493,"./kn":11288,"./kn.js":11288,"./ko":29663,"./ko.js":29663,"./ku":70805,"./ku.js":70805,"./ky":87550,"./ky.js":87550,"./lb":76272,"./lb.js":76272,"./lo":99135,"./lo.js":99135,"./lt":91452,"./lt.js":91452,"./lv":35782,"./lv.js":35782,"./me":32181,"./me.js":32181,"./mi":50258,"./mi.js":50258,"./mk":35715,"./mk.js":35715,"./ml":50538,"./ml.js":50538,"./mn":83086,"./mn.js":83086,"./mr":75663,"./mr.js":75663,"./ms":35100,"./ms-my":92663,"./ms-my.js":92663,"./ms.js":35100,"./mt":50880,"./mt.js":50880,"./my":19099,"./my.js":19099,"./nb":38709,"./nb.js":38709,"./ne":32201,"./ne.js":32201,"./nl":21016,"./nl-be":61681,"./nl-be.js":61681,"./nl.js":21016,"./nn":25330,"./nn.js":25330,"./oc-lnc":27132,"./oc-lnc.js":27132,"./pa-in":30251,"./pa-in.js":30251,"./pl":93948,"./pl.js":93948,"./pt":89836,"./pt-br":36421,"./pt-br.js":36421,"./pt.js":89836,"./ro":28443,"./ro.js":28443,"./ru":20004,"./ru.js":20004,"./sd":54510,"./sd.js":54510,"./se":63148,"./se.js":63148,"./si":10542,"./si.js":10542,"./sk":77637,"./sk.js":77637,"./sl":85852,"./sl.js":85852,"./sq":90611,"./sq.js":90611,"./sr":10242,"./sr-cyrl":90302,"./sr-cyrl.js":90302,"./sr.js":10242,"./ss":91367,"./ss.js":91367,"./sv":42927,"./sv.js":42927,"./sw":5240,"./sw.js":5240,"./ta":82692,"./ta.js":82692,"./te":42132,"./te.js":42132,"./tet":88300,"./tet.js":88300,"./tg":37211,"./tg.js":37211,"./th":14050,"./th.js":14050,"./tk":53849,"./tk.js":53849,"./tl-ph":3964,"./tl-ph.js":3964,"./tlh":23650,"./tlh.js":23650,"./tr":44195,"./tr.js":44195,"./tzl":55529,"./tzl.js":55529,"./tzm":17520,"./tzm-latn":60298,"./tzm-latn.js":60298,"./tzm.js":17520,"./ug-cn":84134,"./ug-cn.js":84134,"./uk":95456,"./uk.js":95456,"./ur":15679,"./ur.js":15679,"./uz":89277,"./uz-latn":66446,"./uz-latn.js":66446,"./uz.js":89277,"./vi":53992,"./vi.js":53992,"./x-pseudo":8882,"./x-pseudo.js":8882,"./yo":12899,"./yo.js":12899,"./zh-cn":94017,"./zh-cn.js":94017,"./zh-hk":84831,"./zh-hk.js":84831,"./zh-mo":32881,"./zh-mo.js":32881,"./zh-tw":30057,"./zh-tw.js":30057};function r(e){var t=o(e);return n(t)}function o(e){if(!n.o(s,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return s[e]}r.keys=function(){return Object.keys(s)},r.resolve=o,e.exports=r,r.id=46700},82296:function(e,t,n){"use strict";n(66992),n(88674),n(19601),n(17727);var s=n(28935),r=(n(58526),n(93878)),o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-layout",{attrs:{id:"components-layout-demo-top-side"}},[n("a-layout-header",{staticClass:"header"},[n("div",{staticClass:"logo"},[e._v(" gStore-PlanOptimizer ")]),n("div",{staticClass:"nav"},[n("span",[e._v("Home")]),n("span",[e._v("About")]),n("span",[e._v("Paper")]),n("span",[e._v("Contact")])])]),n("a-layout-content",{staticStyle:{padding:"0 50px"}},[n("a-layout",{staticStyle:{padding:"24px",background:"#fff","min-height":"calc(100vh - 64px - 69px)"}},[n("h1",{staticClass:"title"},[e._v("Query Interface")]),n("div",{}),n("div",{ref:"queryContainer"}),n("a-button",{staticClass:"query-btn",attrs:{type:"primary",icon:"search",loading:e.loading},on:{click:e.performQuery}},[e._v(" Query Now! ")]),n("a-divider",{directives:[{name:"show",rawName:"v-show",value:e.show_result,expression:"show_result"}]},[e._v("Results")]),n("a-row",[n("a-col",{attrs:{span:8}},[n("plan-tree",{directives:[{name:"show",rawName:"v-show",value:e.show_result,expression:"show_result"}],ref:"tree",staticClass:"result-plan",attrs:{plan:e.plan}})],1),n("a-col",{attrs:{span:16}},[n("a-table",{directives:[{name:"show",rawName:"v-show",value:e.show_result,expression:"show_result"}],staticClass:"result-table",attrs:{columns:e.getCol,"data-source":e.getData},scopedSlots:e._u([{key:"name",fn:function(t){return n("a",{},[e._v(e._s(t))])}}])})],1)],1)],1)],1),n("a-layout-footer",{staticStyle:{"text-align":"center"}},[e._v(" Â©2022 Created by pkumod ")])],1)},a=[],i=(n(21249),n(26166)),l=n.n(i),u=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"plan-container"}})},c=[],d=(n(74916),n(15306),n(68757),n(23123),n(47042),n(24589)),h=n.n(d),f=n(22473),j=n.n(f);n(57327),n(41539),n(21703);function p(e){if(e){e("collection","isRoot",(function(){return 0==this.incomers().length})),e("collection","isLeftChild",(function(){return"left"==this.data("treepos")})),e("collection","isRightChild",(function(){return"right"==this.data("treepos")})),e("collection","parent",(function(){return this.incomers("node")})),e("collection","leftChild",(function(){return this.outgoers('node[treepos="left"]')})),e("collection","rightChild",(function(){return this.outgoers('node[treepos="right"]')})),e("collection","parentEdge",(function(){return this.incomers("edge")}));var t={fit:!0,parentDistance:80,siblingDistance:60};n.prototype.compute=function(){var e=this.options,t={};console.log(e);var n=e.cy.nodes().filter((function(e){return 0==e.indegree()}));if(1!==n.length)throw Error("Invalid tree: no unique root found");var s=[];function r(n,o,a){if(0===n.length)return null;var i=n.outgoers("node");if(i.length>2)throw Error("Invalid binary tree: node has more than 2 children");if(2===i.length&&i[0].data("treepos")==i[1].data("treepos"))throw Error("Invalid binary tree: same tree position for both child nodes of node "+n.id());var l=Math.max(o,s[a]||0),u=a*e.parentDistance,c=r(n.leftChild(),l-e.siblingDistance/2,a+1),d=r(n.rightChild(),l+e.siblingDistance/2,a+1);return t[n.id()]=c&&d?{x:(c.x+d.x)/2,y:u}:c?{x:(c.x+e.siblingDistance)/2,y:u}:d?{x:(d.x-e.siblingDistance)/2,y:u}:{x:l,y:u},s[a]=t[n.id()].x+e.siblingDistance,t[n.id()]}return r(n,0,0),t},n.prototype.run=function(){var e=this.compute(),t=this.options;return t.cy.nodes().layoutPositions(this,t,(function(t){return e[t.id()]})),this},n.prototype.runAnimated=function(e){for(var t=this.compute(),n=this.options.eles.nodes(),s=e.duration||1e3,r=e.onComplete,o=0;o<n.length;o++){var a=n[o];if(a.position()!=t[a.id()]){var i=a.animation({position:t[a.id()],duration:s});i.play(),r&&(i.promise().then(r),r=void 0)}}return this},e("layout","tree",n)}function n(e){var n=this.options={};for(var s in t)n[s]=t[s];for(var s in e)n[s]=e[s]}}p(h()),h().use(j());var g={name:"PlanTree",props:["plan"],data:function(){return{}},mounted:function(){var e=this;this.initCy(),this.$on("renderPlan",(function(){return e.renderPlan()}))},methods:{initCy:function(){window.cy=h()({container:document.getElementById("plan-container"),userZoomingEnabled:!1,userPanningEnabled:!1,elements:[],style:[{selector:"node",style:{"background-color":"#FF8C05",label:"data(label)"}},{selector:"edge",style:{width:3,"line-color":"#ccc","target-arrow-color":"#ccc","target-arrow-shape":"triangle"}},{selector:".subtree",style:{shape:"round-rectangle","background-color":"#4499EE",width:35,height:35,"text-valign":"bottom","text-halign":"center"}},{selector:".BJ",style:{"background-color":"#43A102"}}],layout:{name:"breadthfirst",directed:!0,padding:10}})},renderPlan:function(){var e=this.plan.replaceAll("BJ","?BJ"),t=window.cy;t.elements().remove(),t.reset();var n=e.split(/\?+/).length-1;console.log("Variable number: "+n);var s=e.slice(-n).split("");console.log("Degree list: "+s);var r=e.slice(1,-n).split("?");console.log("Node list: "+r);for(var o=null,a=null,i=0,l=0;l<r.length;l++){var u=r[l],c=!1;switch("BJ"===u&&(c=!0,u="BJ"+i++),s[l]){case"0":m(u,{label:u,treepos:"left"}),null==o||(a=o),o="p_"+u,m(o,{treepos:"left",classes:"subtree"}),v(o,u);break;case"1":m(u,{label:u,treepos:"right"}),1==t.$("#"+o).rightChild().length&&(t.$("#"+o).data("treepos","left"),m("p_"+o,{treepos:"left",classes:"subtree"}),v("p_"+o,o),o="p_"+o),v(o,u);break;case"2":m(u,{label:u,treepos:"left",classes:c?"subtree BJ":"subtree"}),t.$("#"+a).data("treepos","left"),t.$("#"+o).data("treepos","right"),v(u,o),v(u,a),a=null,o=u;break}}t.layout({name:"tree",siblingDistance:80}).run(),t.elements().lock(),setTimeout((function(){t.animate({fit:{eles:t.elements(),padding:20}})}),500)}}};function m(e,t){window.cy.add({group:"nodes",data:{id:e,label:t["label"],treepos:t["treepos"]},classes:t["classes"]})}function v(e,t){window.cy.add({group:"edges",data:{source:e,target:t}})}var y=g,b=n(1001),w=(0,b.Z)(y,u,c,!1,null,null,null),k=w.exports,x=n(35791),_=n.n(x),C={components:{PlanTree:k},data:function(){return{query:"",loading:!1,show_result:!1,result:{},yasqe:null,plan:""}},computed:{getCol:function(){return"head"in this.result?this.result.head.vars.map((function(e){return{title:e,dataIndex:e+".value",key:e}})):[]},getData:function(){return"results"in this.result?this.result.results.bindings:[]}},mounted:function(){this.initYasqe()},methods:{performQuery:function(){var e=this;this.loading=!0,l().post("/query",{query:this.yasqe.getValue()}).then((function(t){console.log(t),e.result=t.data,e.plan=t.data.Plan,e.loading=!1,e.show_result=!0,e.$nextTick((function(){return e.$refs.tree.$emit("renderPlan")}))}))},initYasqe:function(){console.log(this.$refs.queryContainer),this.yasqe=new(_())(this.$refs.queryContainer,{createShareableLink:!1,showQueryButton:!1,value:this.query})}}},z=C,O=(0,b.Z)(z,o,a,!1,null,"52fecb0e",null),q=O.exports;s.Z.use(r.ZP),new s.Z({render:function(e){return e(q)}}).$mount("#app")}},t={};function n(s){var r=t[s];if(void 0!==r)return r.exports;var o=t[s]={id:s,loaded:!1,exports:{}};return e[s].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}n.m=e,function(){n.amdO={}}(),function(){var e=[];n.O=function(t,s,r,o){if(!s){var a=1/0;for(c=0;c<e.length;c++){s=e[c][0],r=e[c][1],o=e[c][2];for(var i=!0,l=0;l<s.length;l++)(!1&o||a>=o)&&Object.keys(n.O).every((function(e){return n.O[e](s[l])}))?s.splice(l--,1):(i=!1,o<a&&(a=o));if(i){e.splice(c--,1);var u=r();void 0!==u&&(t=u)}}return t}o=o||0;for(var c=e.length;c>0&&e[c-1][2]>o;c--)e[c]=e[c-1];e[c]=[s,r,o]}}(),function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){n.d=function(e,t){for(var s in t)n.o(t,s)&&!n.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){n.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e}}(),function(){var e={143:0};n.O.j=function(t){return 0===e[t]};var t=function(t,s){var r,o,a=s[0],i=s[1],l=s[2],u=0;if(a.some((function(t){return 0!==e[t]}))){for(r in i)n.o(i,r)&&(n.m[r]=i[r]);if(l)var c=l(n)}for(t&&t(s);u<a.length;u++)o=a[u],n.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return n.O(c)},s=self["webpackChunkQueryInterface"]=self["webpackChunkQueryInterface"]||[];s.forEach(t.bind(null,0)),s.push=t.bind(null,s.push.bind(s))}();var s=n.O(void 0,[998],(function(){return n(82296)}));s=n.O(s)})();
//# sourceMappingURL=app-legacy.acf325b5.js.map